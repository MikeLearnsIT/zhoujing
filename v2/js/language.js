// Language Configuration for V2
const translations = {
    // Navigation
    nav: {
        home: { zh: "首页", en: "Home" },
        works: { zh: "作品集", en: "Works" },
        exhibitions: { zh: "展览", en: "Exhibitions" },
        about: { zh: "关于", en: "About" },
        press: { zh: "媒体", en: "Press" },
        studio: { zh: "工作室", en: "Studio" },
        contact: { zh: "联系", en: "Contact" },
        menu: { zh: "菜单", en: "MENU" },
        close: { zh: "关闭", en: "CLOSE" }
    },

    // Language Toggle
    lang: {
        current: { zh: "EN", en: "中" },
        switch: { zh: "Switch to English", en: "切换到中文" }
    },

    // Home Page
    home: {
        heroTitle: {
            zh: ["当代", "艺术家 &", "设计师"],
            en: ["Contemporary", "Artist &", "Designer"]
        },
        scroll: { zh: "滚动", en: "SCROLL" },
        introQuote: {
            zh: "“艺术不仅仅是观看，更是进入一个情感成形、沉默发声的世界。”",
            en: "\"Art is not just about seeing, it's about entering a world where emotions take shape and silence speaks.\""
        },
        introBio: {
            zh: "周婧是一位当代艺术家，她的作品探索传统技法与现代表达之间的微妙平衡。她的作品是内心自我与外部世界之间的对话。",
            en: "Zhou Jing is a contemporary artist whose work explores the delicate balance between traditional techniques and modern expression. Her pieces are a dialogue between the inner self and the external world."
        },
        readBio: { zh: "阅读传记", en: "Read Biography" },
        selectedWorks: { zh: "精选作品", en: "Selected Works" },
        viewAllWorks: { zh: "查看所有作品", en: "View All Works" },
        recentExhibitions: { zh: "近期展览", en: "Recent Exhibitions" },
        viewAll: { zh: "查看全部", en: "View All" },
        recentPress: { zh: "近期报道", en: "Recent Press" },
        viewAllNews: { zh: "查看所有新闻", en: "View All News" }
    },

    // Exhibition Detail
    exhibition: {
        artworks: { zh: "参展作品", en: "Exhibited Works" },
        press: { zh: "媒体报道", en: "Press & Media" },
        view: { zh: "展览现场", en: "Exhibition View" }
    },

    // Footer
    footer: {
        title: { zh: "让我们共同创造美好", en: "Let's Create Something Beautiful" },
        rights: { zh: "© 2025 周婧. 保留所有权利.", en: "© 2025 Zhou Jing. All Rights Reserved." }
    },

    // Common
    common: {
        loading: { zh: "加载中...", en: "LOADING" },
        viewAll: { zh: "查看全部", en: "View All" },
        readMore: { zh: "阅读更多", en: "Read More" },
        back: { zh: "返回", en: "Back" }
    },

    // About Page
    about: {
        title: { zh: "关于艺术家", en: "About the Artist" },
        bio1: {
            zh: "周婧是一位中国视觉艺术家，她的实践通过以过程为导向的标记来探索重复、耐力和更新。她的画作将日常生活的节奏转化为冥想带有情感清晰度和韧性的手势。",
            en: "Jing Zhou is a Chinese visual artist whose practice explores repetition, endurance, and renewal through process-led mark-making. Her paintings transform the rhythms of everyday routine into meditative gestures that carry emotional clarity and resilience."
        },
        bio2: {
            zh: "自 2020 年以来，她创作了一系列作品，将东方的耐心和仪式哲学与西方概念抽象传统联系起来。最近的展览包括“What Remains to be Seen”（1215 画廊，蒙特利尔，2025 年）、NYCxDesign 的 Fractured Horizons（纽约，2025 年）和 Fables（Mall Galleries，伦敦，2025 年）。",
            en: "Since 2020, she has developed a body of work that bridges Eastern philosophies of patience and ritual with Western traditions of conceptual abstraction. Recent exhibitions include \"What Remains to be Seen\" (1215 Gallery, Montreal, 2025), \"Fractured Horizons\" at NYCxDesign (New York, 2025), and \"Fables\" (Mall Galleries, London, 2025)."
        },
        bio3: {
            zh: "她的作品被国际收藏，包括 LooLooLook 画廊（巴黎）和 1215 画廊（蒙特利尔）的永久收藏。作为中外文化交流协会、青年艺术家协会和海外青年联合会的会员，她凭借独特的跨文化背景和创意风格在当代艺术界获得了广泛关注和赞誉。",
            en: "Her work is held in international collections, including the permanent collection of LooLooLook Gallery (Paris) and 1215 Gallery (Montreal). As a member of the Sino-Foreign Cultural Exchange Association, Youth Artists Association, and Overseas Youth Federation, Zhou has garnered significant attention and acclaim in the contemporary art world for her distinctive cross-cultural background and unique creative style."
        },
        statementTitle: { zh: "逃逸仪式", en: "Rituals of Escape" },
        statementSubtitle: { zh: "当重复变成了阻力。", en: "Where repetition becomes resistance." },
        statement1: {
            zh: "我们日复一日重复着同样的轨迹：闹钟、截止日期、通勤、以及那股无形的、要求我们不断表现的压力。久而久之，本应赋予我们目标的框架，却开始剥夺我们的目标感。“进步”的承诺，渐渐沦为生存的单调循环。",
            en: "We move through the same motions each day. Alarms. Deadlines. Commutes. The quiet pressure to perform. Over time, the structure meant to give us purpose begins to strip it away. The promise of progress flattens into the monotony of survival."
        },
        statement2: {
            zh: "周婧对这种节奏再熟悉不过。多年来，她身处的体系始终要求速度、精准，以及对自我的压抑。她走上艺术之路并非某个戏剧性的转折点，而更像一场渐进式的舒展。起初只是对疲惫的本能回应，后来逐渐演变成一种持久的耐力练习与自我修复。她抛开了截止日期，找到了新的节奏；在静默中，重新寻回了意义。",
            en: "Jing Zhou knows this rhythm too well. For years, she moved within systems that demanded speed, precision, and the suppression of self. Her path into art was not a dramatic turning point, more a gradual unravelling. What began as an instinctive response to exhaustion evolved into a sustained practice of endurance and self-repair. In place of deadlines, she found a new tempo. In stillness, she began to rediscover meaning."
        },
        statement3: {
            zh: "本次展览正是这一转变的成果。每一件作品都是一种无声的拒绝。几何图形在边界内构建。色彩在长时间的克制后缓慢浮现。表面是手工构建的，经过测量和深思熟虑。看似极简，实则承载着情感。看似重复，实则是对节奏的重新掌控。这是经过精心选择的常规。",
            en: "This exhibition is the outcome of that shift. Each work is a quiet refusal. Geometries build within boundaries. Colour emerges slowly, after long periods of restraint. Surfaces are hand-built, measured, and deliberate. What appears minimal is loaded with emotion. What looks repetitive is, in fact, a reclaiming of rhythm. It is routine, carefully chosen."
        },
        statement4: {
            zh: "周婧的影响显而易见，但处理得十分微妙。佛教曼陀罗的冥想对称性提供了结构基础。草间弥生对图案的沉浸式运用在过程中产生共鸣，尽管周婧的基调更加内省。她过去的设计背景在构图的控制中可见一斑，但她的作品抵制表面的光泽。它植根于质感、缓慢和感觉。",
            en: "Zhou’s influences are present but handled with subtlety. The meditative symmetry of Buddhist mandalas provides a structural foundation. Yayoi Kusama’s immersive use of pattern resonates in the process, though Zhou’s tone is more introspective. Her past in design is visible in the control of composition, yet her work resists surface gloss. It is grounded in texture, slowness, and feeling."
        },
        statement5: {
            zh: "对周婧来说，艺术成为了一种在被他人要求塑造的生活的缓慢腐蚀中生存的方式。它提供的不是幻想意义上的逃避，而是作为一种治愈方法的逃避。这些作品不大声喧哗。它们占据空间。它们要求我们与重量共处。在那份静止中，它们提供了别的东西：呼吸、关怀和安静的希望。",
            en: "Art, for Zhou, became a way to survive the slow corrosion of a life shaped by others’ demands. It offered her not escape in the fantastical sense but escape as a method of healing. These works do not shout. They hold space. They ask us to sit with weight. And within that stillness, they offer something else: breath, care, and quiet hope."
        },
        statementHighlight: {
            zh: "这次展览不是抗议。不是撤退。这是一种回收。这些是耐力的仪式，是通过柔软进行的抵抗，是随着时间慢慢塑造的解放。",
            en: "This exhibition is not a protest. It is not a retreat. It is a reclamation. These are rituals of endurance, of defiance through softness, and of liberation shaped slowly over time."
        },
        cv: {
            education: { zh: "教育背景", en: "Education" },
            edu1: { zh: "格拉斯哥艺术学院，时尚与纺织设计硕士", en: "Glasgow School of Art, Fashion and Textile Design" },
            edu2: { zh: "中央美术学院，学士", en: "Central Academy of Fine Arts" },
            qualifications: { zh: "专业资格", en: "Professional Qualifications" },
            qual1: { zh: "上海市对外文化交流协会会员", en: "Member of Shanghai International Cultural Exchange Association" },
            qual2: { zh: "青年美术家协会会员", en: "Member of Youth Artists Association" },
            qual3: { zh: "海外青年联合会会员", en: "Member of Overseas Youth Federation" },
            experience: { zh: "专业经历", en: "Professional Experience" },
            exp1: { zh: "ZJ STUDIO 创始人", en: "Founder of ZJ STUDIO" },
            exp2: { zh: "当代艺术家", en: "Contemporary Artist" },
            exp3: { zh: "时尚与纺织设计师", en: "Fashion and Textile Designer" },
            exhibitions: { zh: "部分展览", en: "Selected Exhibitions" },
            exh1: { zh: "What Remains to be Seen, 1215 Gallery, 蒙特利尔", en: "What Remains to be Seen, 1215 Gallery, Montreal" },
            exh2: { zh: "Fractured Horizons, NYCxDesign, 纽约", en: "Fractured Horizons, NYCxDesign, New York" },
            exh3: { zh: "Fables, Mall Galleries, 伦敦", en: "Fables, Mall Galleries, London" },
            exh4: { zh: "上海青年艺术家邀请展", en: "Shanghai Young Artists Invitational Exhibition" },
            exh5: { zh: "New Designers, 伦敦", en: "New Designers, London" },
            download: { zh: "下载简历", en: "Download CV" }
        }
    },

    // Studio Page
    studio: {
        title: { zh: "工作室", en: "The Studio" },
        subtitle: { zh: "创意与灵感的诞生地。", en: "The birthplace of creativity and inspiration." },
        introTitle: { zh: "神圣空间", en: "A Sacred Space" },
        introText: { zh: "这是周婧的私人艺术工作室，一个充满创造能量的神圣空间。在这里，每一个想法都可能成为艺术作品的起点，每一次实验都可能带来新的突破。工作室不仅是创作的场所，更是艺术家与内心对话的私密空间。", en: "This is Zhou Jing's private art studio, a sacred space filled with creative energy. Here, every idea can become the starting point of an artwork, and every experiment can lead to new breakthroughs. The studio is not only a place for creation, but also a private space for the artist to dialogue with her inner self." },
        quote: { zh: "“艺术创作是一个持续探索的过程，在这个过程中，我与材料、色彩和形式对话，寻找表达内心世界的最佳方式。”", en: "\"Artistic creation is a continuous process of exploration, in which I dialogue with materials, colors, and forms, seeking the best way to express my inner world.\"" },
        quoteAuthor: { zh: "— 周婧", en: "— Zhou Jing" },
        processTitle: { zh: "创作过程", en: "Creative Process" },
        processText: { zh: "将内心情感转化为视觉语言。", en: "Transforming inner emotions into visual language." },
        materialsTitle: { zh: "材料与工具", en: "Materials & Tools" },
        materialsText: { zh: "探索不同媒介的可能性。", en: "Exploring the possibilities of different media." },
        inspirationTitle: { zh: "灵感角落", en: "Inspiration Corner" },
        inspirationText: { zh: "捕捉稍纵即逝的灵感火花。", en: "Capturing fleeting sparks of inspiration." },
        detailsTitle: { zh: "细节之美", en: "Beauty in Details" },
        detailsText: { zh: "每一笔触都蕴含着深意。", en: "Every stroke carries deep meaning." },
        item1Title: { zh: "创作过程", en: "Creative Process" },
        item1Text: { zh: "将内心情感转化为视觉语言。", en: "Transforming inner emotions into visual language." },
        item2Title: { zh: "材料与工具", en: "Materials & Tools" },
        item2Text: { zh: "每种媒介都有丰富的可能性。", en: "Rich possibilities in every medium." },
        item3Title: { zh: "作品完成", en: "Work Completion" },
        item3Text: { zh: "从构思到实现的旅程。", en: "The journey from conception to realization." },
        feature1Title: { zh: "自然光", en: "Natural Light" },
        feature1Text: { zh: "充足的自然光为色彩创作提供了最佳条件。", en: "Abundant natural light provides optimal conditions for color creation." },
        feature2Title: { zh: "宁静环境", en: "Tranquil Environment" },
        feature2Text: { zh: "安静的创作环境帮助艺术家专注于创作。", en: "Quiet creative environment helps artists focus on creation." },
        feature3Title: { zh: "灵感空间", en: "Inspiration Space" },
        feature3Text: { zh: "充满艺术品和参考资料的灵感空间。", en: "Inspiring space filled with artworks and reference materials." }
    },

    // Contact Page
    contact: {
        title: { zh: "联系", en: "Contact" },
        subtitle: { zh: "让我们开始对话。", en: "Let's start a conversation." },
        email: { zh: "邮箱", en: "Email" },
        emailNote: { zh: "有关作品、委托和展览的咨询。", en: "For inquiries regarding available works, commissions, and exhibitions." },
        studio: { zh: "工作室地点", en: "Studio Locations" },
        social: { zh: "社交媒体", en: "Social Media" },
        downloads: { zh: "下载", en: "Downloads" },
        downloadPortfolio: { zh: "下载作品集", en: "Download Portfolio" },
        formName: { zh: "姓名", en: "Name" },
        formEmail: { zh: "邮箱", en: "Email" },
        formSubject: { zh: "主题", en: "Subject" },
        formMessage: { zh: "留言", en: "Message" },
        send: { zh: "发送消息", en: "Send Message" },
        placeholderName: { zh: "您的姓名", en: "Your Name" },
        placeholderEmail: { zh: "您的邮箱", en: "Your Email" },
        placeholderSubject: { zh: "主题", en: "Subject" },
        placeholderMessage: { zh: "您的留言...", en: "Your Message..." }
    },

    // Gallery Page
    gallery: {
        title: { zh: "精选作品", en: "Selected Works" },
        subtitle: { zh: "探索情感、自然与人类境况的绘画合集。", en: "A collection of paintings exploring emotion, nature, and the human condition." },
        filterAll: { zh: "全部", en: "All" },
        filterAcrylic: { zh: "丙烯", en: "Acrylic" },
        filterMixed: { zh: "综合材料", en: "Mixed Media" }
    },

    // Exhibitions Page
    exhibitions: {
        title: { zh: "展览", en: "Exhibitions" },
        subtitle: { zh: "个展、群展、艺术博览会及公共项目。", en: "Solo and group exhibitions, art fairs, and public projects." },
        upcoming: { zh: "即将开展", en: "Upcoming" },
        current: { zh: "正在展出", en: "Current" },
        past: { zh: "过往展览", en: "Past" },
        solo: { zh: "个展", en: "Solo Exhibition" },
        group: { zh: "群展", en: "Group Exhibition" }
    },

    // Press Page
    press: {
        title: { zh: "媒体报道", en: "Press & Reviews" },
        subtitle: { zh: "精选访谈、文章及展览报道。", en: "Selected interviews, articles, and exhibition coverage." },
        readArticle: { zh: "阅读文章", en: "Read Article" }
    },

    // Studio Page
    studio: {
        title: { zh: "工作室", en: "The Studio" },
        subtitle: { zh: "创意与灵感的诞生地。", en: "The birthplace of creativity and inspiration." },
        introTitle: { zh: "神圣空间", en: "A Sacred Space" },
        introText: { zh: "这是周婧的私人艺术工作室，一个充满创造能量的神圣空间。在这里，每一个想法都可能成为艺术作品的起点，每一次实验都可能带来新的突破。工作室不仅是创作的场所，更是艺术家与内心对话的私密空间。", en: "This is Zhou Jing's private art studio, a sacred space filled with creative energy. Here, every idea can become the starting point of an artwork, and every experiment can lead to new breakthroughs. The studio is not only a place for creation, but also a private space for the artist to dialogue with her inner self." },
        quote: { zh: "“艺术创作是一个持续探索的过程，在这个过程中，我与材料、色彩和形式对话，寻找表达内心世界的最佳方式。”", en: "\"Artistic creation is a continuous process of exploration, in which I dialogue with materials, colors, and forms, seeking the best way to express my inner world.\"" },
        quoteAuthor: { zh: "— 周婧", en: "— Zhou Jing" },

        // Process Section
        processTitle: { zh: "创作过程", en: "Creative Process" },
        processStep1: { zh: "构思与灵感", en: "Conception & Inspiration" },
        processStep1Desc: { zh: "宽敞明亮的工作室，充满自然光线，为艺术创作提供理想环境。", en: "Spacious and bright studio filled with natural light, providing an ideal environment for artistic creation." },
        processStep2: { zh: "绘画与表达", en: "Painting & Expression" },
        processStep2Desc: { zh: "艺术家专注于画布上的每一笔，将内心的情感转化为视觉语言。", en: "The artist focuses on every stroke on the canvas, transforming inner emotions into visual language." },
        processStep3: { zh: "技法与实验", en: "Technique & Experimentation" },
        processStep3Desc: { zh: "丰富的绘画材料和工具，每一种都承载着不同的艺术可能性。", en: "Rich painting materials and tools, each carrying different artistic possibilities." },
        processStep4: { zh: "完善与呈现", en: "Refinement & Presentation" },
        processStep4Desc: { zh: "完成的作品展示，记录着从构思到实现的完整创作历程。", en: "Display of completed works, documenting the complete creative journey from conception to realization." },

        feature1Title: { zh: "自然光", en: "Natural Light" },
        feature1Text: { zh: "充足的自然光为色彩创作提供了最佳条件。", en: "Abundant natural light provides optimal conditions for color creation." },
        feature2Title: { zh: "宁静环境", en: "Tranquil Environment" },
        feature2Text: { zh: "安静的创作环境帮助艺术家专注于创作。", en: "Quiet creative environment helps artists focus on creation." },
        feature3Title: { zh: "灵感空间", en: "Inspiration Space" },
        feature3Text: { zh: "充满艺术品和参考资料的灵感空间。", en: "Inspiring space filled with artworks and reference materials." }
    }
};

class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('language') || 'en';
        this.init();
    }

    init() {
        this.applyTranslations();
        this.bindEvents();
    }

    bindEvents() {
        // Language toggle button click event
        document.addEventListener('click', (e) => {
            if (e.target.closest('.lang-toggle')) {
                this.toggleLanguage();
            }
        });
    }

    toggleLanguage() {
        this.currentLang = this.currentLang === 'zh' ? 'en' : 'zh';
        localStorage.setItem('language', this.currentLang);
        document.documentElement.lang = this.currentLang === 'zh' ? 'zh-CN' : 'en';
        this.applyTranslations();

        // Dispatch event for other components
        document.dispatchEvent(new CustomEvent('languageChanged', {
            detail: { language: this.currentLang }
        }));
    }

    getTranslation(key) {
        const keys = key.split('.');
        let value = translations;

        for (const k of keys) {
            if (value && typeof value === 'object' && k in value) {
                value = value[k];
            } else {
                console.warn(`Translation key not found: ${key}`);
                return key;
            }
        }

        if (value && typeof value === 'object' && value[this.currentLang]) {
            return value[this.currentLang];
        }

        return value;
    }

    applyTranslations() {
        // Handle text content
        const elements = document.querySelectorAll('[data-i18n]');
        elements.forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.getTranslation(key);

            if (Array.isArray(translation)) {
                // Handle array for multi-line text (like hero title)
                const children = element.children;
                if (children.length === translation.length) {
                    Array.from(children).forEach((child, index) => {
                        child.textContent = translation[index];
                    });
                } else {
                    // Fallback: join with breaks or spaces
                    element.innerHTML = translation.map(line => `<span class="line">${line}</span>`).join('');
                }
            } else if (translation) {
                if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                    // If it's an input but has data-i18n, it might be for value, but usually placeholders are separate
                    // If data-i18n is used on input, assume it sets value? Or maybe just ignore if placeholder is handled separately
                    // But existing code set placeholder. Let's keep it but prioritize data-i18n-placeholder if exists
                } else {
                    element.textContent = translation;
                }
            }
        });

        // Handle placeholders
        const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');
        placeholderElements.forEach(element => {
            const key = element.getAttribute('data-i18n-placeholder');
            const translation = this.getTranslation(key);
            if (translation) {
                element.placeholder = translation;
            }
        });

        // Update language toggle text
        const langText = document.querySelector('.lang-text');
        if (langText) {
            langText.textContent = this.currentLang === 'zh' ? 'EN' : '中';
        }
    }
}

// Initialize
window.languageManager = new LanguageManager();
